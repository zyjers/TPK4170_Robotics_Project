(self.webpackChunkjupyterlab_datawidgets=self.webpackChunkjupyterlab_datawidgets||[]).push([[824],{558:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(553),s=r(788),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.defaults=function(){return a(a({},e.prototype.defaults.call(this)),{_model_module:t.model_module,_model_module_version:t.model_module_version,_view_name:t.view_name,_view_module:t.view_module,_view_module_version:t.view_module_version})},t.serializers=a({},o.WidgetModel.serializers),t.model_module="jupyter-datawidgets",t.model_module_version=s.version,t.view_name=null,t.view_module=null,t.view_module_version="",t}(o.WidgetModel);t.DataModel=u},824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(153);t.NDArrayModel=n.NDArrayModel,t.NDArrayBaseModel=n.NDArrayBaseModel;var i=r(779);t.DataImageModel=i.DataImageModel,t.DataImageView=i.DataImageView;var a=r(788);t.version=a.version},779:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(553),s=r(953),u=r(788),l=r(887),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.defaults=function(){return a(a({},e.prototype.defaults.call(this)),{_model_name:t.model_module,_model_module_version:t.model_module_version,_model_module:t.model_module,_view_name:t.view_name,_view_module:t.view_module,_view_module_version:t.view_module_version,data:l([])})},t.serializers=a(a({},o.DOMWidgetModel.serializers),{data:s.data_union_serialization}),t.model_name="DataImageModel",t.model_module="jupyter-datawidgets",t.model_module_version=u.version,t.view_name="DataImageView",t.view_module="jupyter-datawidgets",t.view_module_version=u.version,t}(o.DOMWidgetModel);t.DataImageModel=f;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canvas=null,t}return i(t,e),t.prototype.initialize=function(t){e.prototype.initialize.call(this,t),s.listenToUnion(this.model,"data",this.update.bind(this),!0)},t.prototype.render=function(){e.prototype.render.call(this),this.pWidget.addClass("jupyter-widgets"),this.pWidget.addClass("widget-image"),this.update()},t.prototype.update=function(){var t,r=s.getArray(this.model.get("data"));if(null===r||0===r.data.length)t="",this.el.setAttribute("width","0"),this.el.setAttribute("height","0");else{if(3!==r.shape.length||4!==r.shape[2])throw new Error("DataImage data has invalid shape: "+JSON.stringify(r.shape));null===this.canvas&&(this.canvas=document.createElement("canvas")),this.el.setAttribute("width",""+r.shape[0]),this.el.setAttribute("height",""+r.shape[1]),this.canvas.setAttribute("width",""+r.shape[0]),this.canvas.setAttribute("height",""+r.shape[1]);var n=this.canvas.getContext("2d"),i=new ImageData(new Uint8ClampedArray(r.data),r.shape[0],r.shape[1]);n.putImageData(i,0,0),t=this.canvas.toDataURL()}return this.el.src=t,e.prototype.update.call(this)},t.prototype.remove=function(){null!==this.canvas&&(this.canvas=null),e.prototype.remove.call(this)},Object.defineProperty(t.prototype,"tagName",{get:function(){return"img"},enumerable:!0,configurable:!0}),t}(o.DOMWidgetView);t.DataImageView=p},153:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(558),s=r(953),u=r(887),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.defaults=function(){return a(a({},e.prototype.defaults.call(this)),{array:u([]),compression_level:0})},t.prototype.getNDArray=function(e){return void 0===e&&(e="array"),this.get(e)},t.serializers=a(a({},o.DataModel.serializers),{array:s.compressed_array_serialization}),t}(o.DataModel);t.NDArrayBaseModel=l;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.defaults=function(){return a(a({},e.prototype.defaults.call(this)),{_model_name:t.model_name})},t.prototype.canWriteBack=function(e){return void 0===e&&(e="array"),"array"===e},t.prototype.setNDArray=function(e,t,r){void 0===t&&(t="array"),this.set(t,e,r)},t.serializers=a({},l.serializers),t.model_name="NDArrayModel",t}(l);t.NDArrayModel=f},788:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=r(773).version},773:e=>{"use strict";e.exports={version:"5.4.0"}},534:(e,t)=>{"use strict";function r(e){return e&&"function"==typeof e.getNDArray}function n(e){return e&&"function"==typeof e.setNDArray}Object.defineProperty(t,"__esModule",{value:!0}),t.isDataSource=r,t.isDataWriteBack=n,t.getArray=function(e,t){return r(e)?e.getNDArray(t):e},t.setArray=function(e,t,r,i){var a=e.get(t);n(a)&&a.canWriteBack()?a.setNDArray(r,void 0,i):e.set(t,r,i)}},424:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(845);t.compress=function(e,t){return n.deflate(new Uint8Array(e),{level:t})},t.decompress=function(e){return n.inflate(new Uint8Array(e)).buffer}},953:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(179)),n(r(534)),n(r(115)),t.version=r(326).version},179:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(374),i=r(424),a=r(887);function o(e){if("array"===e||"buffer"===e||"generic"===e)throw new Error("Cannot serialize ndarray with dtype: "+e+".");return"uint8_clamped"===e&&(e="uint8"),e}function s(e,r){return null===e?null:a(new t.typesToArray[e.dtype](e.buffer.buffer),e.shape)}function u(e,t){if(null===e)return null;var r=o(e.dtype);return{shape:e.shape,dtype:r,buffer:e.data}}function l(e,r){return null===e?null:(n=void 0!==e.compressed_buffer?i.decompress(e.compressed_buffer.buffer):e.buffer.buffer,a(new t.typesToArray[e.dtype](n),e.shape));var n}function f(e,t){if(null===e)return null;var r=o(e.dtype),n=t?t.get("compression_level"):0;if(void 0!==n&&n>0){var a=i.compress(e.data.buffer,n);return{shape:e.shape,dtype:r,compressed_buffer:a}}return{shape:e.shape,dtype:r,buffer:e.data}}function p(e){if(e instanceof Int8Array)return"int8";if(e instanceof Int16Array)return"int16";if(e instanceof Int32Array)return"int32";if(e instanceof Uint8Array)return"uint8";if(e instanceof Uint8ClampedArray)return"uint8";if(e instanceof Uint16Array)return"uint16";if(e instanceof Uint32Array)return"uint32";if(e instanceof Float32Array)return"float32";if(e instanceof Float64Array)return"float64";throw new Error("Unknown TypedArray type: "+e)}function c(e,r){return null===e?null:new t.typesToArray[e.dtype](e.buffer.buffer)}function d(e,t){return null===e?null:{shape:[e.length],dtype:p(e),buffer:e}}function y(e,r){return null===e?null:{array:new t.typesToArray[e.dtype](e.buffer.buffer),shape:e.shape}}function h(e,t){return null===e?null:{shape:e.shape,dtype:p(e.array),buffer:e.array}}t.ensureSerializableDtype=o,t.JSONToArray=s,t.arrayToJSON=u,t.array_serialization={deserialize:s,serialize:u},t.typesToArray={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint8_clamped:Uint8ClampedArray,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array},t.compressedJSONToArray=l,t.arrayToCompressedJSON=f,t.compressed_array_serialization={deserialize:l,serialize:f},t.typedArrayToType=p,t.JSONToTypedArray=c,t.typedArrayToJSON=d,t.typedarray_serialization={deserialize:c,serialize:d},t.JSONToSimple=y,t.simpleToJSON=h,t.simplearray_serialization={deserialize:y,serialize:h},t.fixed_shape_serialization=function(e){for(var r=1,i=0,a=e;i<a.length;i++){var o=a[i];r*=o}return{deserialize:function(r,i){if(null===r)return null;if(!n.arraysEqual(r.shape,e))throw new Error("Incoming data unexpected shape: "+r.shape+", expected "+e);return new t.typesToArray[r.dtype](r.buffer.buffer)},serialize:function(t,n){if(null===t)return null;if(t.length!==r)throw new Error("Data has wrong size for fixed shape serialization! Expected "+r+" elements, got "+t.length+".");return{shape:e,dtype:p(t),buffer:t}}}}},115:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(553),o=r(179),s=r(534);function u(e,t){return n(this,void 0,void 0,(function(){return i(this,(function(r){return"string"==typeof e?[2,a.unpack_models(e,t)]:[2,Promise.resolve(o.JSONToArray(e,t))]}))}))}function l(e,t){return n(this,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return r=s.getArray,[4,u(e,t)];case 1:return[2,r.apply(void 0,[n.sent()])]}}))}))}function f(e,t){return e instanceof a.WidgetModel?e.toJSON(void 0):o.arrayToJSON(e,t)}function p(e,t){return"string"==typeof e?a.unpack_models(e,t).then((function(e){var t=e.getNDArray();return null===t?t:t.data})):Promise.resolve(o.JSONToTypedArray(e,t))}function c(e,t){return"string"==typeof e?a.unpack_models(e,t).then((function(e){var t=e.getNDArray();return null===t?null:{array:t.data,shape:t.shape}})):Promise.resolve(o.JSONToSimple(e,t))}t.JSONToUnion=u,t.JSONToUnionArray=l,t.unionToJSON=f,t.listenToUnion=function(e,t,r,n){function i(t){t instanceof a.WidgetModel&&e.listenTo(t,"change",r)}function o(o,s,u){var l=e.previous(t)||[],f=s||[];l instanceof a.WidgetModel?e.stopListening(l):!n||f instanceof a.WidgetModel||r(o,u),n&&l instanceof a.WidgetModel!=f instanceof a.WidgetModel&&r(o,u),i(f)}return i(e.get(t)),e.on("change:"+t,o),function(){var r=e.get(t);r instanceof a.WidgetModel&&e.stopListening(r),e.off("change:"+t,o)}},t.data_union_array_serialization={deserialize:l,serialize:f},t.data_union_serialization={deserialize:u,serialize:f},t.JSONToUnionTypedArray=p,t.data_union_typedarray_serialization={deserialize:p,serialize:o.typedArrayToJSON},t.JSONToSimpleUnion=c,t.data_union_simple_serialization={deserialize:c,serialize:o.simpleToJSON}},374:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arraysEqual=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}},326:e=>{"use strict";e.exports={version:"2.3.0"}}}]);